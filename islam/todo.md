## مهام تطبيق الإسلامي الشامل

### المرحلة 1: تحليل المتطلبات وتصميم هيكل التطبيق
- [x] تحديد الميزات الأساسية لكل قسم (أذكار، قرآن صوتي، قرآن نصي، تفسير، أحاديث، أدعية، صدقة جارية، سبحة، أذان)
- [x] تحديد التقنيات المستخدمة (لغة البرمجة، الأطر، قواعد البيانات)
- [x] تصميم هيكل قاعدة البيانات
- [x] تصميم واجهة المستخدم وتجربة المستخدم (UI/UX) الأولية




- [ ] تحديد الميزات الأساسية لقسم الأذكار:
  - عرض أذكار الصباح والمساء.
  - عرض أذكار النوم والاستيقاظ.
  - عرض أذكار الصلاة وبعدها.
  - إمكانية إضافة أذكار مخصصة.
  - عداد للأذكار مع إمكانية إعادة التعيين.
  - البحث عن الأذكار.
  - إمكانية مشاركة الأذكار.




- [ ] تحديد الميزات الأساسية لقسم القرآن الكريم:
  - قسم القرآن الصوتي:
    - الاستماع إلى تلاوات مختلفة (أوفلاين/أونلاين).
    - إمكانية تحميل السور للاستماع إليها بدون اتصال.
    - التحكم في التشغيل (إيقاف مؤقت، استئناف، تقديم، تأخير).
    - تكرار الآيات أو السور.
    - تحديد القارئ المفضل.
  - قسم القرآن النصي:
    - عرض نص القرآن الكريم بخط واضح ومريح للعين.
    - إمكانية تغيير حجم الخط ونوعه.
    - البحث عن آيات أو كلمات محددة.
    - وضع علامات مرجعية (Bookmarks).
    - نسخ ومشاركة الآيات.
    - عرض ترجمات للقرآن الكريم (اختياري).
  - قسم تفسير القرآن:
    - عرض تفاسير مختلفة للآيات.
    - البحث في التفاسير.
    - إمكانية نسخ ومشاركة التفسير.




- [ ] تحديد الميزات الأساسية لقسم الأحاديث:
  - عرض مجموعات أحاديث مختارة (مثل الأربعين النووية).
  - البحث عن الأحاديث.
  - إمكانية نسخ ومشاركة الأحاديث.
  - شرح مبسط للأحاديث (اختياري).




- [ ] تحديد الميزات الأساسية لقسم الأدعية:
  - عرض أدعية متنوعة (أدعية من القرآن والسنة، أدعية للمناسبات المختلفة).
  - البحث عن الأدعية.
  - إمكانية إضافة أدعية مخصصة.
  - إمكانية نسخ ومشاركة الأدعية.




- [ ] تحديد الميزات الأساسية لقسم الصدقة الجارية:
  - إمكانية إضافة اسم شخص للدعاء له.
  - عرض قائمة بأسماء الأشخاص الذين تم إضافتهم.
  - إمكانية الدعاء للشخص من قبل المستخدمين الآخرين.
  - عداد للدعوات لكل شخص.
  - إمكانية مشاركة اسم الشخص للدعاء له.




- [ ] تحديد الميزات الأساسية للتسجيل وتسجيل الدخول:
  - تسجيل حساب جديد (بريد إلكتروني/كلمة مرور، أو وسائل تواصل اجتماعي).
  - تسجيل الدخول والخروج.
  - استعادة كلمة المرور.
  - إدارة الملف الشخصي.
- [ ] تحديد الميزات الأساسية للإشعارات:
  - إشعارات يومية للأذكار.
  - إشعارات تذكير بالصلاة (مع إمكانية التخصيص).
  - إشعارات عامة (مثل تحديثات التطبيق).
- [ ] تحديد الميزات الأساسية للسبحة الإلكترونية:
  - عداد للأذكار مع إمكانية التصفير.
  - أذكار مسبقة الإعداد للسبحة.
  - إمكانية إضافة أذكار مخصصة للسبحة.
  - اهتزاز عند كل تسبيحة أو عند الوصول لعدد معين.
- [ ] تحديد الميزات الأساسية للأذان وتوقيت الصلاة:
  - عرض أوقات الصلاة بناءً على موقع المستخدم (GPS).
  - إمكانية اختيار طرق حساب أوقات الصلاة المختلفة.
  - تشغيل صوت الأذان عند كل وقت صلاة.
  - إمكانية تخصيص صوت الأذان.
  - عرض اتجاه القبلة (اختياري).




- [ ] تحديد التقنيات المستخدمة:
  - **لغة البرمجة:** Dart
  - **إطار العمل:** Flutter (لتطوير تطبيقات iOS و Android و Web)
  - **قاعدة البيانات:**
    - **للتخزين المحلي (Offline):** SQLite (عبر حزمة `sqflite` في Flutter)
    - **للتخزين السحابي (Online) والمصادقة:** Firebase (Firestore, Authentication, Cloud Messaging, Storage)
  - **إدارة الحالة:** Provider أو Bloc (حسب التعقيد)
  - **للتواصل مع APIs:** `http` package
  - **لأوقات الصلاة والأذان:** مكتبات Flutter متخصصة (مثل `adhan` أو `flutter_qibla`)
  - **لتشغيل الصوت:** `audioplayers` أو `just_audio`
  - **للقرآن النصي:** حزم Flutter للقرآن (مثل `quran_text`)
  - **للأذكار والأحاديث والأدعية:** يمكن تخزينها محليًا في SQLite أو سحابيًا في Firestore.




- [x] تصميم هيكل قاعدة البيانات:
  - **Firebase Firestore (للتخزين السحابي):**
    - `users` collection:
      - `uid` (document ID)
      - `email`
      - `username`
      - `profile_picture` (optional)
      - `created_at`
    - `supplications_for_others` collection (لصدقة جارية):
      - `supplication_id` (document ID)
      - `person_name`
      - `user_id` (reference to `users` collection)
      - `supplication_count`
      - `created_at`
      - `last_supplicated_at`
    - `custom_azkar` collection (أذكار مخصصة للمستخدم):
      - `azkar_id` (document ID)
      - `user_id`
      - `text`
      - `count` (optional, for tasbeeh)
      - `created_at`
    - `custom_duas` collection (أدعية مخصصة للمستخدم):
      - `dua_id` (document ID)
      - `user_id`
      - `text`
      - `created_at`
  - **SQLite (للتخزين المحلي - Offline):**
    - `azkar` table:
      - `id`
      - `category` (صباح، مساء، نوم، إلخ.)
      - `text`
      - `count` (عدد مرات التكرار الموصى بها)
      - `reference`
    - `quran_text` table:
      - `sura_id`
      - `aya_id`
      - `text`
      - `juz`
      - `page`
    - `quran_tafseer` table:
      - `sura_id`
      - `aya_id`
      - `tafseer_text`
      - `tafseer_name`
    - `hadith` table:
      - `id`
      - `book`
      - `chapter`
      - `text`
      - `explanation` (اختياري)
    - `duas` table:
      - `id`
      - `category`
      - `text`
      - `reference`
    - `quran_audio` table (للتخزين المؤقت للملفات الصوتية المحملة):
      - `sura_id`
      - `reciter_id`
      - `file_path`
      - `download_date`




- [x] تصميم واجهة المستخدم وتجربة المستخدم (UI/UX) الأولية:

  ```markdown
  ## تصميم واجهة المستخدم وتجربة المستخدم (UI/UX) الأولية

  ### 1. الشاشة الرئيسية (Home Screen)

  - **التصميم:** شبكة (Grid) من الأيقونات الملونة والجذابة التي تمثل الأقسام الرئيسية للتطبيق.
  - **الأقسام:**
    - القرآن الكريم (نصي)
    - القرآن الكريم (صوتي)
    - تفسير القرآن
    - الأذكار
    - الأحاديث
    - الأدعية
    - السبحة الإلكترونية
    - أوقات الصلاة
    - صدقة جارية
  - **شريط التنقل السفلي (Bottom Navigation Bar):**
    - الرئيسية (Home)
    - الإعدادات (Settings)
    - الملف الشخصي (Profile)

  ### 2. شاشة القرآن الكريم (نصي)

  - **التصميم:** قائمة بالسورة، مع إمكانية البحث.
  - **عند اختيار سورة:** عرض نص السورة بخط واضح، مع إمكانية التمرير.
  - **أزرار التحكم:**
    - تشغيل الصوت (ينقل إلى شاشة القرآن الصوتي مع تحديد السورة والآية).
    - إضافة علامة مرجعية.
    - عرض التفسير.
    - مشاركة الآية.

  ### 3. شاشة القرآن الكريم (صوتي)

  - **التصميم:** قائمة بالقراء، ثم قائمة بالسور.
  - **عند اختيار سورة:** مشغل صوتي بتصميم بسيط وواضح.
  - **عناصر التحكم:**
    - تشغيل/إيقاف مؤقت.
    - الآية التالية/السابقة.
    - تكرار.
    - تحميل للاستماع بدون اتصال.

  ### 4. شاشة الأذكار

  - **التصميم:** قائمة بفئات الأذكار (أذكار الصباح، المساء، إلخ).
  - **عند اختيار فئة:** عرض الأذكار مع عداد لكل ذكر.
  - **زر "ابدأ":** يبدأ التسبيح مع اهتزاز عند كل ضغطة.

  ### 5. شاشة صدقة جارية

  - **التصميم:** قائمة بالأسماء المضافة للدعاء.
  - **زر "أضف اسم":** يفتح نافذة منبثقة لإدخال اسم الشخص.
  - **بجانب كل اسم:** زر "ادعُ له" يزيد العداد بمقدار واحد.

  ### 6. شاشة أوقات الصلاة

  - **التصميم:** عرض أوقات الصلاة لليوم الحالي بناءً على موقع المستخدم.
  - **مؤقت للوقت المتبقي للصلاة التالية.**
  - **بوصلة اتجاه القبلة.**
  ```




### المرحلة 2: البحث عن APIs والموارد الإسلامية المطلوبة
- [x] البحث عن APIs للقرآن الكريم (نص وصوت وتفسير):
  - **Al Quran Cloud API:** (https://alquran.cloud/api) يبدو شاملاً ويوفر نصوص القرآن، والتلاوات الصوتية، والتفاسير.
  - **Quran.com API:** (https://quran.com/en/developers) يوفر نصوص القرآن والتلاوات والتفاسير.
- [x] البحث عن APIs لأوقات الصلاة:
  - **Aladhan API:** (https://aladhan.com/prayer-times-api) يوفر أوقات الصلاة بناءً على الموقع الجغرافي وطرق حساب مختلفة.
- [x] البحث عن APIs للأحاديث:
  - **Hadith API:** (https://hadithapi.com/) يوفر مجموعة كبيرة من الأحاديث مع ترجمات.
  - **Sunnah.com API:** (https://sunnah.com/developers) يوفر الوصول إلى جزء من بيانات الأحاديث.
- [x] البحث عن APIs للأذكار والأدعية:
  - **wdalgrb/azkar-api:** (https://github.com/wdalgrb/azkar-api) يوفر أذكار الصباح والمساء وغيرها.
  - **fitrahive/dua-dhikr:** (https://github.com/fitrahive/dua-dhikr) يوفر أدعية وأذكار من السنة.



### المرحلة 3: إنشاء قاعدة البيانات وهيكل الباك إند
- [x] إنشاء تطبيق Flask للباك إند
- [x] إنشاء نماذج قاعدة البيانات (Models):
  - User (المستخدمين)
  - Azkar & CustomAzkar (الأذكار والأذكار المخصصة)
  - Hadith (الأحاديث)
  - Duas & CustomDuas (الأدعية والأدعية المخصصة)
  - SadaqaJariya (الصدقة الجارية)
  - QuranText, QuranTafseer, QuranAudio, UserBookmarks (القرآن الكريم)
- [x] إنشاء routes (المسارات) للـ APIs:
  - /api/azkar (الأذكار)
  - /api/hadith (الأحاديث)
  - /api/duas (الأدعية)
  - /api/sadaqa (الصدقة الجارية)
  - /api/quran (القرآن الكريم)
  - /api/prayer-times (أوقات الصلاة)
- [x] تكوين CORS للسماح بالوصول من الواجهة الأمامية
- [x] تثبيت المكتبات المطلوبة (flask-cors, requests)


### المرحلة 4: تطوير واجهة المستخدم الأمامية
- [x] إنشاء تطبيق React للواجهة الأمامية
- [x] تصميم وتطوير المكونات الأساسية:
  - Navbar (شريط التنقل مع الوضع المظلم)
  - Hero (القسم الرئيسي مع البسملة والميزات)
  - QuranSection (قسم القرآن الكريم مع قائمة السور)
  - AzkarSection (قسم الأذكار مع فئات مختلفة وعدادات)
  - PrayerTimesSection (قسم أوقات الصلاة مع الموقع والقبلة)
  - Footer (التذييل مع معلومات المطور)
- [x] تطبيق التصميم المتجاوب (Responsive Design)
- [x] إضافة الوضع المظلم (Dark Mode)
- [x] استخدام Tailwind CSS و shadcn/ui للتصميم
- [x] اختبار التطبيق محلياً في المتصفح



### المرحلة 5: تطبيق ميزات التسجيل والمصادقة
- [x] إنشاء مكون AuthModal للتسجيل وتسجيل الدخول
- [x] تحديث Navbar لدعم المصادقة
- [x] تحديث App.jsx لإدارة حالة المستخدم
- [x] تحديث نموذج User لإضافة password_hash وحقول إضافية
- [x] تحديث routes المستخدم لإضافة endpoints للتسجيل والدخول
- [x] إضافة JWT للمصادقة
- [x] تثبيت PyJWT في الباك إند
- [x] تشغيل خادم Flask
- [x] اختبار واجهة التسجيل وتسجيل الدخول في المتصفح


### المرحلة 6: إضافة الميزات الإسلامية المتخصصة
- [x] إنشاء قسم الأحاديث النبوية (HadithSection)
  - عرض الأحاديث مع الراوي والمصدر
  - تصنيف الأحاديث حسب الموضوع
  - إمكانية البحث والتصفية
  - نسخ ومشاركة الأحاديث
- [x] إنشاء قسم الأدعية المأثورة (DuasSection)
  - عرض الأدعية بالعربية والترجمة والمعنى
  - تصنيف الأدعية حسب المناسبة
  - إمكانية إضافة الأدعية للمفضلة
  - نسخ ومشاركة الأدعية
- [x] إنشاء قسم الصدقة الجارية (SadaqaSection)
  - إضافة طلبات الدعاء للأشخاص
  - عرض إحصائيات الدعوات
  - تصنيف طلبات الدعاء
  - إمكانية الدعاء للآخرين
- [x] تحديث التطبيق الرئيسي لإضافة الأقسام الجديدة
- [x] تحديث شريط التنقل لإضافة روابط الأقسام الجديدة
- [x] اختبار جميع الأقسام الجديدة في المتصفح


### المرحلة 7: تطبيق الإشعارات والسبحة والأذان
- [x] إنشاء قسم السبحة الإلكترونية (TasbihSection)
  - عداد تفاعلي مع دائرة التقدم
  - أنواع مختلفة من التسبيح مع أهداف مختلفة
  - حفظ التقدم في localStorage
  - سجل للجلسات المكتملة
  - إعدادات الصوت والاهتزاز
  - إشعارات عند إكمال الهدف
- [x] تحسين قسم أوقات الصلاة لإضافة الأذان
  - حساب الصلاة القادمة والوقت المتبقي
  - تشغيل الأذان مع الصوت والإشعارات
  - حساب اتجاه القبلة
  - إعدادات تفعيل/إلغاء الأذان
  - تذكيرات فردية لكل صلاة
- [x] إنشاء مكون إعدادات الإشعارات (NotificationSettings)
  - طلب إذن الإشعارات من المتصفح
  - إعدادات تذكيرات الصلاة والأذكار
  - إعدادات تذكيرات قراءة القرآن والدعاء
  - جدولة الإشعارات مع أوقات مخصصة
  - اختبار الإشعارات
- [x] تحديث التطبيق الرئيسي لإضافة الأقسام الجديدة
- [x] تحديث شريط التنقل لإضافة روابط الأقسام الجديدة
- [x] اختبار السبحة الإلكترونية والتأكد من عملها


### المرحلة 8: اختبار التطبيق ونشره
- [x] بناء التطبيق الأمامي للنشر (npm run build)
- [x] نشر التطبيق الأمامي على منصة النشر
- [x] إصلاح مشكلة PyJWT في requirements.txt
- [x] نشر التطبيق الخلفي على منصة النشر
- [x] اختبار API الخلفي والتأكد من عمله
- [x] التطبيق الخلفي منشور على: https://g8h3ilc31vw5.manus.space
- [x] التطبيق الأمامي جاهز للنشر (في انتظار النشر من المستخدم)

